import{r as p,o as J,J as Re,l as Ue,c as i,b as r,e,g as _,j as B,d as l,n as V,i as s,f as I,h as K,C as b,k as Q,K as Pe,F as N,B as He,m as fe,t as v,y as D,a as Be,I as G,x as z,v as T,p as E,w as Oe,T as re,L as We,u as Ae,s as L,E as ye,M as Xe,A as Ge}from"./userAuth-By76ZzTx.js";import{b as q,_ as oe,S as ie,c as Ke,a as Ze}from"./settings-BnhHFY4W.js";import{S as te,H as ge,U as se,M as we,X,L as Je,d as Ye,R as et,c as xe,C as _e,a as tt,E as st,b as ot,I as at}from"./x-DrPRQ0ev.js";import"./axios-DcDB5iIh.js";/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=q("arrow-up-to-line",[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=q("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=q("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=q("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=q("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=q("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=q("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=q("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=q("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=q("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=q("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=q("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=q("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=q("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=q("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=q("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=q("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=q("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=q("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=q("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=q("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=q("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=q("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-vue-next v0.519.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=q("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),pt={class:"relative bg-gradient-to-r from-emerald-600 via-green-600 to-teal-600 text-white w-full px-4 py-3 shadow-2xl"},ht={class:"relative z-10 flex items-center justify-between"},ft={class:"flex items-center gap-3"},xt={class:"group p-2.5 rounded-xl bg-white/10 hover:bg-white/20 transition-all duration-300 hover:scale-105 border border-white/20"},mt={class:"flex items-center gap-2"},bt={class:"hidden md:flex items-center gap-2"},yt={class:"group relative bg-white/15 px-4 py-2.5 rounded-xl hover:bg-white/25 transition-all duration-300 hover:scale-105"},wt={class:"group relative bg-white/15 px-4 py-2.5 rounded-xl hover:bg-white/25 transition-all duration-300 hover:scale-105"},_t={class:"group relative bg-white/15 px-4 py-2.5 rounded-xl hover:bg-white/25 transition-all duration-300 hover:scale-105"},kt={key:0,class:"absolute top-12 right-0 bg-white text-gray-800 p-3 rounded-xl shadow-2xl border min-w-[180px] z-50"},$t={class:"flex items-center gap-3 w-full p-2 rounded-lg hover:bg-gray-100 transition-colors text-left"},Ct={class:"flex items-center gap-3 w-full p-2 rounded-lg hover:bg-gray-100 transition-colors text-left"},Mt={class:"flex items-center gap-3 w-full p-2 rounded-lg hover:bg-gray-100 transition-colors text-left"},Ut={class:"flex items-center gap-3 w-full p-2 rounded-lg hover:bg-gray-100 transition-colors text-left"},Pt={class:"flex items-center gap-3"},At={key:0,class:"absolute top-12 right-0 bg-white text-gray-800 p-4 rounded-xl shadow-2xl border w-80 z-50"},Ft={key:0,class:"fixed inset-0 z-50"},St={class:"bg-gradient-to-r from-emerald-600 to-green-600 p-6 text-white"},jt={class:"flex items-center justify-between"},Qt={class:"text-xl font-bold flex items-center gap-3"},qt={class:"p-6 space-y-2"},Dt={class:"p-2 bg-emerald-100 text-emerald-600 rounded-lg"},Et={class:"p-2 bg-blue-100 text-blue-600 rounded-lg"},Tt={class:"p-2 bg-purple-100 text-purple-600 rounded-lg"},Vt={class:"p-2 bg-orange-100 text-orange-600 rounded-lg"},Lt={class:"p-2 bg-gray-100 text-gray-600 rounded-lg"},Nt={class:"absolute bottom-0 left-0 right-0 p-6 border-t"},zt={class:"flex items-center gap-3 w-full p-3 rounded-xl text-red-600 hover:bg-red-50 transition-all duration-300"},It={key:1,class:"fixed inset-0 z-50"},Rt={class:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white"},Ht={class:"flex items-center justify-between"},Bt={class:"text-xl font-bold flex items-center gap-3"},Ot={class:"p-6 space-y-6"},Wt={class:"space-y-4"},Xt={class:"bg-gray-50 p-4 rounded-xl"},Gt={class:"flex items-center justify-between cursor-pointer"},Kt={class:"flex items-center gap-3"},Zt={class:"space-y-4"},Jt={class:"bg-gray-50 p-4 rounded-xl"},Yt={class:"flex items-center justify-between w-full p-3 rounded-lg hover:bg-white transition-colors"},es={class:"flex items-center gap-3"},ts={class:"space-y-4"},ss={class:"bg-gray-50 p-4 rounded-xl space-y-3"},os={class:"flex items-center justify-between cursor-pointer"},as={class:"flex items-center gap-3"},ls={__name:"Header",setup(R){const $=p(!1),x=p(!1),C=p(!1),M=p(!1),F=p(!1),U=p(null),g=p(null),P=p(null),y=p(null);function c(){$.value=!1,x.value=!1,C.value=!1,M.value=!1}function w(u){const n=U.value,A=g.value,o=P.value,t=y.value;($.value&&n&&!n.contains(u.target)||x.value&&A&&!A.contains(u.target)||C.value&&o&&!o.contains(u.target)||M.value&&t&&!t.contains(u.target))&&c()}return J(()=>{document.addEventListener("click",w)}),Re(()=>{document.removeEventListener("click",w)}),(u,n)=>{const A=Ue("router-link");return r(),i(N,null,[e("header",pt,[n[12]||(n[12]=e("div",{class:"absolute inset-0 bg-black/5"},null,-1)),e("div",ht,[e("div",ft,[e("button",{onClick:n[0]||(n[0]=B(o=>x.value=!x.value,["stop"])),class:"group p-2.5 rounded-xl bg-white/10 hover:bg-white/20 transition-all duration-300 hover:scale-105 border border-white/20"},[l(s(ie),{class:V(["w-5 h-5 transition-transform duration-300",{"rotate-90":x.value}])},null,8,["class"])]),e("button",xt,[l(s(te),{class:"w-5 h-5"})])]),e("nav",mt,[e("div",bt,[l(A,{to:"/",class:"group relative bg-white/15 px-4 py-2.5 rounded-xl hover:bg-white/25 transition-all duration-300 hover:scale-105"},{default:I(()=>[l(s(ge),{class:"w-5 h-5"})]),_:1}),e("button",yt,[l(s(ve),{class:"w-5 h-5"})]),e("button",wt,[l(s(Z),{class:"w-5 h-5"})]),e("button",_t,[l(s(se),{class:"w-5 h-5"})])]),e("div",{class:"relative md:hidden",ref_key:"moreRef",ref:P},[e("button",{onClick:n[1]||(n[1]=B(o=>C.value=!C.value,["stop"])),class:"p-2.5 rounded-xl bg-white/15 hover:bg-white/25 transition-all duration-300 border border-white/20"},n[5]||(n[5]=[e("span",{class:"text-lg"},"⋯",-1)])),C.value?(r(),i("div",kt,[e("button",$t,[l(s(ge),{class:"w-4 h-4 text-green-600"}),n[6]||(n[6]=e("span",null,"Home",-1))]),e("button",Ct,[l(s(ve),{class:"w-4 h-4 text-green-600"}),n[7]||(n[7]=e("span",null,"Help",-1))]),e("button",Mt,[l(s(Z),{class:"w-4 h-4 text-green-600"}),n[8]||(n[8]=e("span",null,"Folders",-1))]),e("button",Ut,[l(s(se),{class:"w-4 h-4 text-green-600"}),n[9]||(n[9]=e("span",null,"Users",-1))])])):_("",!0)],512)]),e("div",Pt,[e("div",{class:"relative",ref_key:"notificationsRef",ref:y},[e("button",{onClick:n[2]||(n[2]=B(o=>M.value=!M.value,["stop"])),class:"group relative p-2.5 rounded-xl bg-white/10 hover:bg-white/20 transition-all duration-300 hover:scale-105 border border-white/20"},[l(s(ke),{class:"w-5 h-5"}),n[10]||(n[10]=e("span",{class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"},"3",-1))]),M.value?(r(),i("div",At,n[11]||(n[11]=[K('<h3 class="font-bold text-lg mb-3" data-v-8e093cc4>Notifications</h3><div class="space-y-3" data-v-8e093cc4><div class="p-3 bg-blue-50 rounded-lg border-r-4 border-blue-400" data-v-8e093cc4><p class="text-sm font-medium" data-v-8e093cc4>New Notification</p><p class="text-xs text-gray-600 mt-1" data-v-8e093cc4>A new question has been added</p></div><div class="p-3 bg-green-50 rounded-lg border-r-4 border-green-400" data-v-8e093cc4><p class="text-sm font-medium" data-v-8e093cc4>New User</p><p class="text-xs text-gray-600 mt-1" data-v-8e093cc4>A new user joined the platform</p></div></div>',2)]))):_("",!0)],512),e("button",{onClick:n[3]||(n[3]=B(o=>$.value=!$.value,["stop"])),class:"group p-2.5 rounded-xl bg-white/10 hover:bg-white/20 transition-all duration-300 hover:scale-105 border border-white/20"},[l(s(we),{class:V(["w-5 h-5 transition-transform duration-300",{"rotate-90":$.value}])},null,8,["class"])])])])]),$.value?(r(),i("div",Ft,[e("div",{class:"absolute inset-0 bg-black/50",onClick:c}),e("div",{ref_key:"sidebarRef",ref:U,class:V(["absolute top-0 right-0 h-full w-80 bg-white shadow-2xl transform transition-transform duration-300",{"translate-x-0":$.value,"translate-x-full":!$.value}])},[e("div",St,[e("div",jt,[e("h2",Qt,[l(s(we),{class:"w-6 h-6"}),n[13]||(n[13]=b(" Main Menu "))]),e("button",{onClick:c,class:"p-2 rounded-lg hover:bg-white/20 transition-colors"},[l(s(X),{class:"w-5 h-5"})])])]),e("div",qt,[l(A,{to:"/admin/dashboard",class:"group flex items-center gap-4 p-4 rounded-xl text-gray-700 hover:bg-emerald-50 hover:text-emerald-700 transition-all duration-300",onClick:c},{default:I(()=>[e("div",Dt,[l(s(ge),{class:"w-5 h-5"})]),n[14]||(n[14]=e("span",{class:"font-medium"},"Dashboard",-1))]),_:1,__:[14]}),l(A,{to:"/admin/dashboard/questions",class:"group flex items-center gap-4 p-4 rounded-xl text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-all duration-300",onClick:c},{default:I(()=>[e("div",Et,[l(s(ve),{class:"w-5 h-5"})]),n[15]||(n[15]=e("span",{class:"font-medium"},"Questions",-1))]),_:1,__:[15]}),l(A,{to:"/admin/dashboard/sections",class:"group flex items-center gap-4 p-4 rounded-xl text-gray-700 hover:bg-purple-50 hover:text-purple-700 transition-all duration-300",onClick:c},{default:I(()=>[e("div",Tt,[l(s(Z),{class:"w-5 h-5"})]),n[16]||(n[16]=e("span",{class:"font-medium"},"Sections",-1))]),_:1,__:[16]}),l(A,{to:"/admin/dashboard/users",class:"group flex items-center gap-4 p-4 rounded-xl text-gray-700 hover:bg-orange-50 hover:text-orange-700 transition-all duration-300",onClick:c},{default:I(()=>[e("div",Vt,[l(s(se),{class:"w-5 h-5"})]),n[17]||(n[17]=e("span",{class:"font-medium"},"Users",-1))]),_:1,__:[17]}),l(A,{to:"/admin/dashboard/settings",class:"group flex items-center gap-4 p-4 rounded-xl text-gray-700 hover:bg-gray-50 hover:text-gray-700 transition-all duration-300",onClick:c},{default:I(()=>[e("div",Lt,[l(s(ie),{class:"w-5 h-5"})]),n[18]||(n[18]=e("span",{class:"font-medium"},"Settings",-1))]),_:1,__:[18]})]),e("div",Nt,[e("button",zt,[l(s(Je),{class:"w-5 h-5"}),n[19]||(n[19]=e("span",{class:"font-medium"},"Logout",-1))])])],2)])):_("",!0),x.value?(r(),i("div",It,[e("div",{class:"absolute inset-0 bg-black/50",onClick:c}),e("div",{ref_key:"settingsRef",ref:g,class:V(["absolute top-0 left-0 h-full w-80 bg-white shadow-2xl transform transition-transform duration-300",{"translate-x-0":x.value,"-translate-x-full":!x.value}])},[e("div",Rt,[e("div",Ht,[e("h2",Bt,[l(s(ie),{class:"w-6 h-6"}),n[20]||(n[20]=b(" Settings "))]),e("button",{onClick:c,class:"p-2 rounded-lg hover:bg-white/20 transition-colors"},[l(s(X),{class:"w-5 h-5"})])])]),e("div",Ot,[e("div",Wt,[n[22]||(n[22]=e("h3",{class:"text-lg font-semibold text-gray-800"},"Appearance",-1)),e("div",Xt,[e("label",Gt,[e("div",Kt,[l(s(Fe),{class:"w-5 h-5 text-gray-600"}),n[21]||(n[21]=e("span",{class:"font-medium text-gray-700"},"Dark Mode",-1))]),Q(e("input",{type:"checkbox","onUpdate:modelValue":n[4]||(n[4]=o=>F.value=o),class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"},null,512),[[Pe,F.value]])])])]),e("div",Zt,[n[24]||(n[24]=e("h3",{class:"text-lg font-semibold text-gray-800"},"Language",-1)),e("div",Jt,[e("button",Yt,[e("div",es,[l(s(dt),{class:"w-5 h-5 text-gray-600"}),n[23]||(n[23]=e("span",{class:"font-medium text-gray-700"},"English",-1))])])])]),e("div",ts,[n[27]||(n[27]=e("h3",{class:"text-lg font-semibold text-gray-800"},"Notifications",-1)),e("div",ss,[e("label",os,[e("div",as,[l(s(ke),{class:"w-5 h-5 text-gray-600"}),n[25]||(n[25]=e("span",{class:"font-medium text-gray-700"},"Enable Notifications",-1))]),n[26]||(n[26]=e("input",{type:"checkbox",checked:"",class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"},null,-1))])])])])],2)])):_("",!0)],64)}}},rs=oe(ls,[["__scopeId","data-v-8e093cc4"]]),ns={class:"min-h-screen bg-gray-100 text-black"},is=He({__name:"App",setup(R){return($,x)=>{const C=Ue("router-view");return r(),i("div",ns,[l(rs),l(C)])}}}),ds={class:"max-w-7xl mx-auto p-6 space-y-8"},us={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},cs={class:"group bg-white hover:bg-gradient-to-br hover:from-blue-50 hover:to-indigo-50 border border-gray-200 hover:border-blue-300 rounded-2xl shadow-lg hover:shadow-2xl p-6 text-center transition-all duration-500 transform hover:-translate-y-2 hover:scale-105"},gs={class:"text-4xl font-bold text-gray-800 group-hover:text-blue-600 transition-colors duration-300 counter","data-target":"{{ stats.totalUsers }}"},vs={class:"group bg-white hover:bg-gradient-to-br hover:from-purple-50 hover:to-pink-50 border border-gray-200 hover:border-purple-300 rounded-2xl shadow-lg hover:shadow-2xl p-6 text-center transition-all duration-500 transform hover:-translate-y-2 hover:scale-105"},ps={class:"text-4xl font-bold text-gray-800 group-hover:text-purple-600 transition-colors duration-300 counter","data-target":"{{ stats.totalSections }}"},hs={class:"group bg-white hover:bg-gradient-to-br hover:from-emerald-50 hover:to-teal-50 border border-gray-200 hover:border-emerald-300 rounded-2xl shadow-lg hover:shadow-2xl p-6 text-center transition-all duration-500 transform hover:-translate-y-2 hover:scale-105"},fs={class:"text-4xl font-bold text-gray-800 group-hover:text-emerald-600 transition-colors duration-300 counter","data-target":"{{ stats.totalTests }}"},xs={class:"group bg-white hover:bg-gradient-to-br hover:from-orange-50 hover:to-red-50 border border-gray-200 hover:border-orange-300 rounded-2xl shadow-lg hover:shadow-2xl p-6 text-center transition-all duration-500 transform hover:-translate-y-2 hover:scale-105"},ms={class:"text-4xl font-bold text-gray-800 group-hover:text-orange-600 transition-colors duration-300 counter","data-target":"{{ stats.totalAnswers }}"},bs={key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50"},ys={__name:"Dashboard",setup(R){const $=p(!0),x=p({totalUsers:0,totalSections:0,totalTests:0,totalAnswers:0}),C=fe({totalUsers:0,totalSections:0,totalTests:0,totalAnswers:0});function M(U,g,P,y,c){let w=null;const u=n=>{w||(w=n);const A=Math.min((n-w)/c,1);U[g]=Math.floor(A*(y-P)+P),A<1&&window.requestAnimationFrame(u)};window.requestAnimationFrame(u)}async function F(){try{$.value=!0;const U=await D.get("/api/admin/stats");x.value={totalUsers:U.data.users,totalSections:U.data.questions,totalTests:U.data.tests,totalAnswers:U.data.answers},setTimeout(()=>{M(C,"totalUsers",0,x.value.totalUsers,2e3),M(C,"totalSections",0,x.value.totalSections,2200),M(C,"totalTests",0,x.value.totalTests,2400),M(C,"totalAnswers",0,x.value.totalAnswers,2600)},500)}catch(U){console.error("❌ Failed to fetch stats",U)}finally{$.value=!1}}return J(F),(U,g)=>(r(),i("div",ds,[g[9]||(g[9]=K('<div class="relative overflow-hidden bg-gradient-to-r from-emerald-600 via-green-600 to-teal-600 rounded-3xl p-8 text-white shadow-2xl" data-v-5c73368e><div class="absolute inset-0 bg-black/10" data-v-5c73368e></div><div class="relative z-10" data-v-5c73368e><h2 class="text-3xl font-bold flex items-center gap-3" data-v-5c73368e><div class="p-2 bg-white/20 rounded-xl backdrop-blur-sm" data-v-5c73368e><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-5c73368e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-5c73368e></path></svg></div> Dashboard Statistics </h2><p class="text-emerald-100 mt-2 text-lg" data-v-5c73368e>Real-time platform analytics and insights</p></div><div class="absolute -top-10 -right-10 w-40 h-40 bg-white/5 rounded-full" data-v-5c73368e></div><div class="absolute -bottom-6 -left-6 w-32 h-32 bg-white/5 rounded-full" data-v-5c73368e></div></div>',1)),e("div",us,[e("div",cs,[g[0]||(g[0]=K('<div class="flex justify-center mb-4" data-v-5c73368e><div class="p-4 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300" data-v-5c73368e><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-5c73368e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" data-v-5c73368e></path></svg></div></div><p class="text-sm text-gray-500 font-medium mb-2" data-v-5c73368e>Total Users</p>',2)),e("h3",gs,v(C.totalUsers),1),g[1]||(g[1]=e("div",{class:"mt-3 flex items-center justify-center text-green-500"},[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"})]),e("span",{class:"text-sm font-medium"},"Active")],-1))]),e("div",vs,[g[2]||(g[2]=K('<div class="flex justify-center mb-4" data-v-5c73368e><div class="p-4 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300" data-v-5c73368e><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-5c73368e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-5c73368e></path></svg></div></div><p class="text-sm text-gray-500 font-medium mb-2" data-v-5c73368e>Total Questions</p>',2)),e("h3",ps,v(C.totalSections),1),g[3]||(g[3]=e("div",{class:"mt-3 flex items-center justify-center text-green-500"},[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"})]),e("span",{class:"text-sm font-medium"},"Growing")],-1))]),e("div",hs,[g[4]||(g[4]=K('<div class="flex justify-center mb-4" data-v-5c73368e><div class="p-4 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300" data-v-5c73368e><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-5c73368e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" data-v-5c73368e></path></svg></div></div><p class="text-sm text-gray-500 font-medium mb-2" data-v-5c73368e>Total Tests</p>',2)),e("h3",fs,v(C.totalTests),1),g[5]||(g[5]=e("div",{class:"mt-3 flex items-center justify-center text-green-500"},[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"})]),e("span",{class:"text-sm font-medium"},"Available")],-1))]),e("div",xs,[g[6]||(g[6]=K('<div class="flex justify-center mb-4" data-v-5c73368e><div class="p-4 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300" data-v-5c73368e><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-5c73368e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" data-v-5c73368e></path></svg></div></div><p class="text-sm text-gray-500 font-medium mb-2" data-v-5c73368e>Total Answers</p>',2)),e("h3",ms,v(C.totalAnswers),1),g[7]||(g[7]=e("div",{class:"mt-3 flex items-center justify-center text-green-500"},[e("svg",{class:"w-4 h-4 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"})]),e("span",{class:"text-sm font-medium"},"Submitted")],-1))])]),$.value?(r(),i("div",bs,g[8]||(g[8]=[e("div",{class:"bg-white p-8 rounded-2xl shadow-2xl"},[e("div",{class:"flex items-center space-x-3"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"}),e("span",{class:"text-gray-700 font-medium"},"Loading statistics...")])],-1)]))):_("",!0)]))}},ws=oe(ys,[["__scopeId","data-v-5c73368e"]]),_s={class:"flex justify-between items-center"},ks={class:"flex items-center gap-4"},$s=["value"],Cs={key:1,class:"bg-white p-6 border border-green-300 rounded-lg shadow space-y-6"},Ms=["value"],Us={class:"space-y-3"},Ps=["onUpdate:modelValue"],As={class:"flex items-center gap-1 text-sm text-green-700"},Fs=["checked","onChange"],Ss=["onClick"],js={class:"text-right"},Qs={class:"space-y-4"},qs={class:"flex justify-between items-start flex-wrap md:flex-nowrap"},Ds={class:"space-y-1 w-full md:w-auto"},Es={class:"text-lg font-semibold"},Ts={class:"text-sm"},Vs={class:"font-semibold"},Ls={class:"list-disc pl-6 text-sm"},Ns={class:"flex gap-2 flex-wrap mt-4 md:mt-0"},zs=["onClick"],Is=["onClick"],Rs={key:0,class:"bg-green-50 border border-green-400 rounded-lg p-6 space-y-4"},Hs=["value"],Bs={class:"space-y-2"},Os=["onUpdate:modelValue"],Ws={class:"flex items-center gap-1 text-sm"},Xs=["checked","onChange"],Gs=["onClick"],Ks={class:"text-right space-x-2"},Zs={key:2,class:"flex justify-center items-center gap-4 py-6"},Js=["disabled"],Ys={class:"flex items-center gap-2"},eo={class:"font-semibold text-green-700"},to={class:"font-semibold text-green-700"},so=["disabled"],oo={key:3,class:"text-center text-gray-500 py-4"},ao={class:"bg-white rounded-lg p-6 shadow-lg w-full max-w-md space-y-4"},lo={class:"flex justify-end gap-3"},ro={__name:"Questions",setup(R){class ${constructor(){this.questions=p([]),this.tests=p([])}async fetchTests(){try{const o=await D.get("/api/admin/section");this.tests.value=o.data}catch(o){console.error("Error fetching tests:",o)}}async fetchQuestions(o,t){try{return(await D.get("/api/admin/questions",{params:{page:o,test_id:t||void 0}})).data}catch(a){return console.error("Error fetching questions:",a),{data:[]}}}resetAndFetch(){this.questions.value=[],c.reset(),c.loadQuestions()}getTestTitle(o){const t=this.tests.value.find(a=>a.id===o);return t?t.title:"Unknown"}addQuestion(o){this.questions.value.unshift(o)}updateQuestion(o,t){const a=this.questions.value.findIndex(f=>f.id===o);a!==-1&&(this.questions.value[a]=t)}removeQuestion(o){this.questions.value=this.questions.value.filter(t=>t.id!==o),this.questions.value.length===0&&c.currentPage.value>1&&c.previousPage()}clearAllQuestions(){this.questions.value=[],c.reset()}appendQuestions(o){this.questions.value.push(...o)}}class x{constructor(){this.showForm=p(!1),this.newQuestion=p(this.getDefaultQuestion())}getDefaultQuestion(){return{question_text:"",test_id:"",answers:[{id:Date.now(),answer_text:"",is_correct:!1},{id:Date.now()+1,answer_text:"",is_correct:!1}]}}toggle(){this.showForm.value=!this.showForm.value,this.showForm.value||this.reset()}reset(){this.newQuestion.value=this.getDefaultQuestion(),this.showForm.value=!1}setCorrect(o){this.newQuestion.value.answers.forEach((t,a)=>{t.is_correct=a===o})}addAnswer(){this.newQuestion.value.answers.push({id:Date.now()+Math.random(),answer_text:"",is_correct:!1})}removeAnswer(o){this.newQuestion.value.answers.length>1&&this.newQuestion.value.answers.splice(o,1)}populateForm(o){this.newQuestion.value={question_text:o.question_text,test_id:o.test_id,answers:o.answers.map(t=>({id:Date.now()+Math.random(),answer_text:t.answer_text,is_correct:t.is_correct}))}}}class C{constructor(o,t,a){this.dataManager=o,this.formManager=t,this.flashManager=a,this.editingQuestion=p(null),this.deletingQuestion=p(null)}async add(){try{const o=await D.post("/api/admin/questions",this.formManager.newQuestion.value);this.dataManager.addQuestion(o.data),this.flashManager.setFlash("✅ Question added successfully"),this.formManager.reset()}catch{this.flashManager.setFlash("❌ Failed to add question","error")}}async update(){try{const o=await D.put(`/api/admin/questions/${this.editingQuestion.value}`,this.formManager.newQuestion.value);this.dataManager.updateQuestion(this.editingQuestion.value,o.data),this.flashManager.setFlash("✅ Question updated"),this.formManager.reset(),this.editingQuestion.value=null}catch{this.flashManager.setFlash("❌ Failed to update question","error")}}async deleteConfirmed(){try{await D.delete(`/api/admin/questions/${this.deletingQuestion.value.id}`),this.dataManager.removeQuestion(this.deletingQuestion.value.id),this.flashManager.setFlash("✅ Question deleted"),this.deletingQuestion.value=null}catch{this.flashManager.setFlash("❌ Failed to delete question","error")}}async deleteAll(){if(confirm("Are you sure? This cannot be undone."))try{await D.delete("/api/admin/questions"),this.dataManager.clearAllQuestions(),this.flashManager.setFlash("✅ All questions deleted")}catch{this.flashManager.setFlash("❌ Failed to delete all questions","error")}}edit(o){this.formManager.populateForm(o),this.editingQuestion.value=o.id,this.formManager.showForm.value=!1}cancelEdit(){this.editingQuestion.value=null,this.formManager.reset()}confirmDelete(o){this.deletingQuestion.value=o}}class M{constructor(){this.message=p(null),this.type=p("success")}setFlash(o,t="success"){this.message.value=o,this.type.value=t,setTimeout(()=>{this.message.value=null},4e3)}getFlashClass(){return this.type.value==="success"?"bg-green-100 border border-green-400 text-green-700":"bg-red-100 border border-red-400 text-red-700"}}class F{constructor(){this.selectedTestId=p("")}getActiveTestId(){return this.selectedTestId.value||void 0}reset(){this.selectedTestId.value=""}}class U{constructor(o,t){this.dataManager=o,this.filterManager=t,this.currentPage=p(1),this.totalPages=p(1),this.perPage=10,this.loading=p(!1)}async loadQuestions(){if(!this.loading.value){this.loading.value=!0;try{const o=await this.dataManager.fetchQuestions(this.currentPage.value,this.filterManager.getActiveTestId());this.dataManager.questions.value=o.data||[],o.pagination?(this.totalPages.value=o.pagination.total_pages||1,this.currentPage.value=o.pagination.current_page||1):this.totalPages.value=o.data&&o.data.length===this.perPage?this.currentPage.value+1:this.currentPage.value}catch(o){console.error("Error loading questions:",o)}finally{this.loading.value=!1}}}async nextPage(){this.currentPage.value<this.totalPages.value&&!this.loading.value&&(this.currentPage.value++,await this.loadQuestions())}async previousPage(){this.currentPage.value>1&&!this.loading.value&&(this.currentPage.value--,await this.loadQuestions())}async goToPage(o){o>=1&&o<=this.totalPages.value&&o!==this.currentPage.value&&!this.loading.value&&(this.currentPage.value=o,await this.loadQuestions())}reset(){this.currentPage.value=1,this.totalPages.value=1,this.loading.value=!1}}const g=new $,P=new M,y=new F,c=new U(g,y),w=new x,u=new C(g,w,P),n=p(null);return J(async()=>{await g.fetchTests(),await c.loadQuestions()}),Be(()=>{}),(A,o)=>(r(),i("div",{class:"max-w-6xl mx-auto p-6 space-y-8 relative",ref_key:"scrollContainer",ref:n},[e("div",_s,[o[19]||(o[19]=e("h2",{class:"text-2xl font-bold text-green-700"},"📋 Manage Questions",-1)),e("button",{onClick:o[0]||(o[0]=t=>s(w).toggle()),class:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition"},[l(s(de),{class:"inline w-4 h-4 mr-1"}),o[18]||(o[18]=b(" Add New Question "))])]),s(P).message.value?(r(),i("div",{key:0,class:V([s(P).getFlashClass(),"px-4 py-3 rounded"])},v(s(P).message.value),3)):_("",!0),e("div",ks,[Q(e("select",{"onUpdate:modelValue":o[1]||(o[1]=t=>s(y).selectedTestId.value=t),onChange:o[2]||(o[2]=t=>s(g).resetAndFetch()),class:"border border-green-300 rounded px-3 py-2"},[o[20]||(o[20]=e("option",{value:""},"All Tests",-1)),(r(!0),i(N,null,z(s(g).tests.value,t=>(r(),i("option",{key:t.id,value:t.id},v(t.title),9,$s))),128))],544),[[G,s(y).selectedTestId.value]]),e("button",{onClick:o[3]||(o[3]=t=>s(u).deleteAll()),class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"},[l(s(O),{class:"inline w-4 h-4 mr-1"}),o[21]||(o[21]=b(" Delete All "))])]),s(w).showForm.value?(r(),i("div",Cs,[o[26]||(o[26]=e("h2",{class:"text-xl font-semibold text-green-700"},"📝 New Question",-1)),Q(e("input",{"onUpdate:modelValue":o[4]||(o[4]=t=>s(w).newQuestion.value.question_text=t),type:"text",class:"w-full border border-green-300 px-4 py-2 rounded",placeholder:"Enter question text"},null,512),[[T,s(w).newQuestion.value.question_text]]),Q(e("select",{"onUpdate:modelValue":o[5]||(o[5]=t=>s(w).newQuestion.value.test_id=t),class:"w-full border border-green-300 px-4 py-2 rounded"},[o[22]||(o[22]=e("option",{value:""},"Select Test",-1)),(r(!0),i(N,null,z(s(g).tests.value,t=>(r(),i("option",{key:t.id,value:t.id},v(t.title),9,Ms))),128))],512),[[G,s(w).newQuestion.value.test_id]]),e("div",Us,[(r(!0),i(N,null,z(s(w).newQuestion.value.answers,(t,a)=>(r(),i("div",{key:t.id,class:"flex items-center gap-2"},[Q(e("input",{"onUpdate:modelValue":f=>t.answer_text=f,type:"text",class:"w-full border border-green-300 px-3 py-2 rounded",placeholder:"Answer option"},null,8,Ps),[[T,t.answer_text]]),e("label",As,[e("input",{type:"radio",checked:t.is_correct,onChange:f=>s(w).setCorrect(a)},null,40,Fs),o[23]||(o[23]=b(" Correct "))]),e("button",{onClick:f=>s(w).removeAnswer(a),class:"text-red-500 hover:underline text-sm"},[l(s(O),{class:"inline w-4 h-4"})],8,Ss)]))),128)),e("button",{onClick:o[6]||(o[6]=t=>s(w).addAnswer()),class:"text-green-700 text-sm hover:underline"},[l(s(de),{class:"inline w-4 h-4 mr-1"}),o[24]||(o[24]=b(" Add Answer "))])]),e("div",js,[e("button",{onClick:o[7]||(o[7]=t=>s(u).add()),class:"bg-green-700 text-white px-6 py-2 rounded hover:bg-green-800"},[l(s(Z),{class:"inline w-4 h-4 mr-1"}),o[25]||(o[25]=b(" Save "))])])])):_("",!0),e("div",Qs,[(r(!0),i(N,null,z(s(g).questions.value,t=>(r(),i("div",{key:t.id,class:"bg-white border border-green-300 rounded-lg shadow-sm p-5 space-y-4"},[e("div",qs,[e("div",Ds,[e("h3",Es,v(t.question_text),1),e("p",Ts,[o[27]||(o[27]=b("Section : ")),e("span",Vs,v(s(g).getTestTitle(t.test_id)),1)]),e("ul",Ls,[(r(!0),i(N,null,z(t.answers,(a,f)=>(r(),i("li",{key:f,class:V({"text-green-600 font-bold":a.is_correct})},v(a.answer_text),3))),128))])]),e("div",Ns,[e("button",{onClick:a=>s(u).edit(t),class:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 flex items-center gap-1"},[l(s(me),{class:"w-4 h-4"}),o[28]||(o[28]=b(" Edit "))],8,zs),e("button",{onClick:a=>s(u).confirmDelete(t),class:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 flex items-center gap-1"},[l(s(O),{class:"w-4 h-4"}),o[29]||(o[29]=b(" Delete "))],8,Is)])]),s(u).editingQuestion.value===t.id?(r(),i("div",Rs,[o[34]||(o[34]=e("h3",{class:"text-lg font-semibold text-green-700"},"✏️ Edit Question",-1)),Q(e("input",{"onUpdate:modelValue":o[8]||(o[8]=a=>s(w).newQuestion.value.question_text=a),type:"text",placeholder:"Question text",class:"w-full border border-green-300 rounded px-4 py-2"},null,512),[[T,s(w).newQuestion.value.question_text]]),Q(e("select",{"onUpdate:modelValue":o[9]||(o[9]=a=>s(w).newQuestion.value.test_id=a),class:"w-full border border-green-300 rounded px-4 py-2"},[o[30]||(o[30]=e("option",{value:""},"Select Test",-1)),(r(!0),i(N,null,z(s(g).tests.value,a=>(r(),i("option",{key:a.id,value:a.id},v(a.title),9,Hs))),128))],512),[[G,s(w).newQuestion.value.test_id]]),e("div",Bs,[(r(!0),i(N,null,z(s(w).newQuestion.value.answers,(a,f)=>(r(),i("div",{key:a.id,class:"flex items-center gap-2"},[Q(e("input",{"onUpdate:modelValue":m=>a.answer_text=m,type:"text",class:"w-full border border-green-300 rounded px-3 py-2",placeholder:"Answer option"},null,8,Os),[[T,a.answer_text]]),e("label",Ws,[e("input",{type:"radio",checked:a.is_correct,onChange:m=>s(w).setCorrect(f)},null,40,Xs),o[31]||(o[31]=b(" Correct "))]),e("button",{onClick:m=>s(w).removeAnswer(f),class:"text-red-600 hover:underline text-sm"},[l(s(O),{class:"inline w-4 h-4"})],8,Gs)]))),128)),e("button",{onClick:o[10]||(o[10]=a=>s(w).addAnswer()),class:"text-green-700 text-sm hover:underline"},[l(s(de),{class:"inline w-4 h-4 mr-1"}),o[32]||(o[32]=b(" Add Answer "))])]),e("div",Ks,[e("button",{onClick:o[11]||(o[11]=a=>s(u).cancelEdit()),class:"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600"}," Cancel "),e("button",{onClick:o[12]||(o[12]=a=>s(u).update()),class:"bg-green-700 text-white px-6 py-2 rounded hover:bg-green-800"},[l(s(Z),{class:"inline w-4 h-4 mr-1"}),o[33]||(o[33]=b(" Save "))])])])):_("",!0)]))),128))]),s(c).totalPages.value>1?(r(),i("div",Zs,[e("button",{onClick:o[13]||(o[13]=t=>s(c).previousPage()),disabled:s(c).currentPage.value===1,class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2"}," Previous ",8,Js),e("div",Ys,[o[35]||(o[35]=e("span",{class:"text-sm text-gray-600"},"Page",-1)),e("span",eo,v(s(c).currentPage.value),1),o[36]||(o[36]=e("span",{class:"text-sm text-gray-600"},"of",-1)),e("span",to,v(s(c).totalPages.value),1)]),e("button",{onClick:o[14]||(o[14]=t=>s(c).nextPage()),disabled:s(c).currentPage.value>=s(c).totalPages.value,class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2"}," Next ",8,so)])):_("",!0),s(c).loading.value?(r(),i("div",oo," ⏳ Loading questions... ")):_("",!0),s(u).deletingQuestion.value?(r(),i("div",{key:4,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",onClick:o[17]||(o[17]=B(t=>s(u).deletingQuestion.value=null,["self"]))},[e("div",ao,[o[38]||(o[38]=e("h2",{class:"text-lg font-bold text-red-600"},"Delete Question?",-1)),o[39]||(o[39]=e("p",{class:"text-green-800 text-sm"},"Are you sure you want to delete this question?",-1)),e("div",lo,[e("button",{onClick:o[15]||(o[15]=t=>s(u).deletingQuestion.value=null),class:"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300"},"Cancel"),e("button",{onClick:o[16]||(o[16]=t=>s(u).deleteConfirmed()),class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"},[l(s(O),{class:"inline w-4 h-4 mr-1"}),o[37]||(o[37]=b(" Confirm Delete "))])])])])):_("",!0)],512))}},no={class:"max-w-6xl mx-auto p-6 space-y-8"},io={class:"flex justify-between items-center"},uo={key:0,class:"bg-white border border-green-300 rounded-lg p-6 space-y-4"},co={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},go={class:"flex justify-end gap-2 mt-4"},vo=["disabled"],po={class:"flex flex-col md:flex-row gap-4 items-center justify-between"},ho={class:"flex-1"},fo={class:"flex items-center gap-2"},xo={key:0,class:"flex justify-between items-center text-sm text-gray-600"},mo={key:1,class:"text-center py-12"},bo={key:2,class:"space-y-4"},yo={class:"flex flex-col md:flex-row justify-between md:items-center w-full"},wo={class:"flex-1 space-y-1"},_o={class:"text-lg font-semibold"},ko={class:"text-sm text-gray-600"},$o={class:"text-xs text-gray-500"},Co={class:"flex gap-2 flex-wrap items-center mt-2 md:mt-0"},Mo=["onClick"],Uo=["onClick"],Po={key:0,class:"border border-green-300 bg-white p-4 rounded-lg space-y-4"},Ao={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Fo={class:"flex justify-end gap-2 mt-4"},So=["disabled"],jo={key:3,class:"text-center py-12 text-gray-500"},Qo={key:0},qo={key:1},Do={key:4,class:"flex justify-center items-center gap-4"},Eo=["disabled"],To={class:"flex gap-1"},Vo=["onClick"],Lo=["disabled"],No={class:"bg-white rounded-lg p-6 shadow-lg w-full max-w-md space-y-4"},zo={class:"text-gray-700"},Io={class:"flex justify-end gap-3"},Ro=["disabled"],Ho={__name:"Sections",setup(R){const $=p([]),x=p(!1),C=p(!1),M=p(null),F=p(null),U=p(""),g=p(1),P=p(10),y=fe({title:"",description:"",duration:30}),c=fe({message:null,type:"success"}),w=E(()=>M.value!==null),u=E(()=>{if(!U.value)return $.value;const k=U.value.toLowerCase();return $.value.filter(h=>h.title.toLowerCase().includes(k)||h.description.toLowerCase().includes(k))}),n=E(()=>Math.ceil(u.value.length/P.value)),A=E(()=>(g.value-1)*P.value),o=E(()=>Math.min(A.value+P.value,u.value.length)),t=E(()=>u.value.slice(A.value,o.value)),a=E(()=>{const k=[],h=Math.max(1,g.value-2),S=Math.min(n.value,g.value+2);for(let W=h;W<=S;W++)k.push(W);return k}),f=E(()=>({"bg-green-100 border border-green-400 text-green-700":c.type==="success","bg-red-100 border border-red-400 text-red-700":c.type==="error"})),m=(k,h="success")=>{c.message=k,c.type=h,setTimeout(d,4e3)},d=()=>{c.message=null},j=()=>{y.title="",y.description="",y.duration=30,M.value=null},H=()=>{C.value=!C.value,C.value||j()},Y=()=>{C.value=!1,j()},Qe=k=>{M.value={...k},y.title=k.title,y.description=k.description,y.duration=k.duration,C.value=!1},qe=()=>{j()},De=k=>{F.value=k},ce=()=>{F.value=null},be=k=>k?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-700 hover:bg-green-800 text-white",ae=k=>{k>=1&&k<=n.value&&(g.value=k)},Ee=()=>{g.value<n.value&&g.value++},Te=()=>{g.value>1&&g.value--},Ve=()=>{g.value>n.value&&n.value>0&&(g.value=n.value)},Le=async()=>{try{x.value=!0;const k=await D.get("/api/admin/section");$.value=k.data}catch(k){console.error("Error loading sections:",k),m("❌ Failed to load sections","error")}finally{x.value=!1}},Ne=async()=>{try{x.value=!0;const k=await D.post("/api/admin/section",y);$.value.push(k.data),m("✅ Section added successfully"),Y(),ae(1)}catch(k){console.error("Error creating section:",k),m("❌ Failed to add section","error")}finally{x.value=!1}},ze=async()=>{try{x.value=!0;const k=await D.put(`/api/admin/section/${M.value.id}`,y),h=$.value.findIndex(S=>S.id===M.value.id);h!==-1&&($.value[h]=k.data),m("✅ Section updated successfully"),j()}catch(k){console.error("Error updating section:",k),m("❌ Failed to update section","error")}finally{x.value=!1}},Ie=async()=>{try{x.value=!0,await D.delete(`/api/admin/section/${F.value.id}`),$.value=$.value.filter(k=>k.id!==F.value.id),m("✅ Section deleted successfully"),ce(),Ve()}catch(k){console.error("Error deleting section:",k),m("❌ Failed to delete section","error")}finally{x.value=!1}};return Oe(U,()=>{ae(1)}),J(Le),(k,h)=>(r(),i("div",no,[e("div",io,[h[10]||(h[10]=e("h2",{class:"text-2xl font-bold text-green-700"},"🗂️ Manage Sections",-1)),e("button",{onClick:H,class:"bg-green-700 text-white px-4 py-2 rounded hover:bg-green-800 transition flex items-center gap-2"},[l(s(de),{class:"w-4 h-4"}),b(" "+v(w.value?"Update Section":"Add New Section"),1)])]),l(re,{name:"slide-down"},{default:I(()=>[C.value&&!w.value?(r(),i("div",uo,[e("form",{onSubmit:B(Ne,["prevent"])},[e("div",co,[e("div",null,[Q(e("input",{"onUpdate:modelValue":h[0]||(h[0]=S=>y.title=S),type:"text",placeholder:"Section Title",class:"w-full border border-green-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",required:""},null,512),[[T,y.title]])]),e("div",null,[Q(e("input",{"onUpdate:modelValue":h[1]||(h[1]=S=>y.duration=S),type:"number",placeholder:"Duration (minutes)",min:"1",max:"999",class:"w-full border border-green-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",required:""},null,512),[[T,y.duration,void 0,{number:!0}]])]),e("div",null,[Q(e("input",{"onUpdate:modelValue":h[2]||(h[2]=S=>y.description=S),type:"text",placeholder:"Short Description",class:"w-full border border-green-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",required:""},null,512),[[T,y.description]])])]),e("div",go,[e("button",{type:"button",onClick:Y,class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded transition"}," Cancel "),e("button",{type:"submit",disabled:x.value,class:"bg-green-700 text-white font-semibold px-6 py-2 rounded hover:bg-green-800 transition disabled:opacity-50 flex items-center gap-2"},[l(s(Z),{class:"w-4 h-4"}),b(" "+v(x.value?"Saving...":"Save Section"),1)],8,vo)])],32)])):_("",!0)]),_:1}),l(re,{name:"fade"},{default:I(()=>[c.message?(r(),i("div",{key:0,class:V([f.value,"px-4 py-3 rounded flex items-center justify-between"])},[e("span",null,v(c.message),1),e("button",{onClick:d,class:"ml-4 text-lg font-bold"},"×")],2)):_("",!0)]),_:1}),e("div",po,[e("div",ho,[Q(e("input",{"onUpdate:modelValue":h[3]||(h[3]=S=>U.value=S),type:"text",placeholder:"Search sections...",class:"w-full max-w-md border border-green-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"},null,512),[[T,U.value]])]),e("div",fo,[h[12]||(h[12]=e("label",{class:"text-sm text-gray-600"},"Items per page:",-1)),Q(e("select",{"onUpdate:modelValue":h[4]||(h[4]=S=>P.value=S),onChange:h[5]||(h[5]=S=>ae(1)),class:"border border-green-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500"},h[11]||(h[11]=[e("option",{value:"5"},"5",-1),e("option",{value:"10"},"10",-1),e("option",{value:"20"},"20",-1),e("option",{value:"50"},"50",-1)]),544),[[G,P.value]])])]),u.value.length>0?(r(),i("div",xo,[e("div",null," Showing "+v(A.value+1)+" to "+v(o.value)+" of "+v(u.value.length)+" sections ",1)])):_("",!0),x.value&&$.value.length===0?(r(),i("div",mo,h[13]||(h[13]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-700 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Loading sections...",-1)]))):(r(),i("div",bo,[l(We,{name:"list-item",tag:"div"},{default:I(()=>[(r(!0),i(N,null,z(t.value,S=>{var W;return r(),i("div",{key:S.id,class:V([((W=M.value)==null?void 0:W.id)===S.id?"bg-green-50 border-green-500":"bg-white border-green-300","border rounded-lg shadow-sm p-5 flex flex-col gap-4 transition-all duration-200"])},[e("div",yo,[e("div",wo,[e("h3",_o,v(S.title),1),e("p",ko,v(S.description),1),e("p",$o,"Duration: "+v(S.duration)+" mins",1)]),e("div",Co,[e("button",{onClick:le=>Qe(S),class:"bg-green-600 text-white px-4 py-1 rounded hover:bg-green-700 flex items-center gap-1 transition"},[l(s(me),{class:"w-4 h-4"}),h[14]||(h[14]=b(" Edit "))],8,Mo),e("button",{onClick:le=>De(S),class:"bg-red-600 text-white px-4 py-1 rounded hover:bg-red-700 flex items-center gap-1 transition"},[l(s(O),{class:"w-4 h-4"}),h[15]||(h[15]=b(" Delete "))],8,Uo)])]),l(re,{name:"slide-down"},{default:I(()=>{var le;return[((le=M.value)==null?void 0:le.id)===S.id?(r(),i("div",Po,[e("form",{onSubmit:B(ze,["prevent"])},[e("div",Ao,[Q(e("input",{"onUpdate:modelValue":h[6]||(h[6]=ee=>y.title=ee),type:"text",placeholder:"Section Title",class:"w-full border border-green-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",required:""},null,512),[[T,y.title]]),Q(e("input",{"onUpdate:modelValue":h[7]||(h[7]=ee=>y.duration=ee),type:"number",placeholder:"Duration (minutes)",min:"1",max:"999",class:"w-full border border-green-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",required:""},null,512),[[T,y.duration,void 0,{number:!0}]]),Q(e("input",{"onUpdate:modelValue":h[8]||(h[8]=ee=>y.description=ee),type:"text",placeholder:"Short Description",class:"w-full border border-green-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500",required:""},null,512),[[T,y.description]])]),e("div",Fo,[e("button",{type:"button",onClick:qe,class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded transition"}," Cancel "),e("button",{type:"submit",disabled:x.value,class:"bg-green-700 hover:bg-green-800 text-white px-6 py-2 rounded transition disabled:opacity-50 flex items-center gap-2"},[l(s(me),{class:"w-4 h-4"}),b(" "+v(x.value?"Updating...":"Update Section"),1)],8,So)])],32)])):_("",!0)]}),_:2},1024)],2)}),128))]),_:1})])),u.value.length===0&&!x.value?(r(),i("div",jo,[U.value?(r(),i("div",Qo,[h[16]||(h[16]=e("h3",{class:"text-lg font-medium mb-2"},"No sections found",-1)),h[17]||(h[17]=e("p",null,"No sections match your search criteria.",-1)),e("button",{onClick:h[9]||(h[9]=S=>U.value=""),class:"mt-2 text-green-600 hover:text-green-700"},"Clear search")])):(r(),i("div",qo,h[18]||(h[18]=[e("h3",{class:"text-lg font-medium mb-2"},"No sections found",-1),e("p",null,'Click "Add New Section" to create your first section.',-1)])))])):_("",!0),n.value>1?(r(),i("div",Do,[e("button",{onClick:Te,disabled:g.value===1,class:V([be(g.value===1),"px-4 py-2 rounded transition"])}," Previous ",10,Eo),e("div",To,[(r(!0),i(N,null,z(a.value,S=>(r(),i("button",{key:S,onClick:W=>ae(S),class:V([g.value===S?"bg-green-700 text-white":"bg-white text-green-700 border border-green-300 hover:bg-green-50","px-3 py-2 rounded transition"])},v(S),11,Vo))),128))]),e("button",{onClick:Ee,disabled:g.value===n.value,class:V([be(g.value===n.value),"px-4 py-2 rounded transition"])}," Next ",10,Lo)])):_("",!0),l(re,{name:"modal"},{default:I(()=>[F.value?(r(),i("div",{key:0,class:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",style:{"backdrop-filter":"blur(2px)"},onClick:B(ce,["self"])},[e("div",No,[h[21]||(h[21]=e("h2",{class:"text-lg font-bold text-red-600"},"Delete Section?",-1)),e("p",zo,[h[19]||(h[19]=b(' Are you sure you want to delete "')),e("strong",null,v(F.value.title),1),h[20]||(h[20]=b('"? This action cannot be undone. '))]),e("div",Io,[e("button",{onClick:ce,class:"bg-gray-200 text-gray-800 px-4 py-2 rounded hover:bg-gray-300 transition"}," Cancel "),e("button",{onClick:Ie,disabled:x.value,class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 flex items-center gap-1 transition disabled:opacity-50"},[l(s(O),{class:"w-4 h-4"}),b(" "+v(x.value?"Deleting...":"Confirm Delete"),1)],8,Ro)])])])):_("",!0)]),_:1})]))}},Bo=oe(Ho,[["__scopeId","data-v-09c6b99c"]]),Oo={class:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 p-4 md:p-6 lg:p-8"},Wo={class:"max-w-7xl mx-auto space-y-6 md:space-y-8"},Xo={class:"bg-white rounded-3xl shadow-xl border border-green-200 p-6 md:p-8"},Go={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Ko={class:"flex items-center gap-4"},Zo={class:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-lg"},Jo={class:"bg-white rounded-3xl shadow-xl border border-green-200 overflow-hidden"},Yo={class:"flex items-center justify-between"},ea={class:"flex items-center gap-3"},ta={key:0,class:"bg-green-100 text-green-700 text-sm px-3 py-1 rounded-full font-medium"},sa={class:"flex items-center gap-4"},oa={key:0,class:"text-sm text-gray-600 font-medium"},aa={class:"p-6 md:p-8 space-y-6"},la={class:"relative"},ra={class:"absolute left-4 top-1/2 transform -translate-y-1/2 text-green-500"},na={class:"flex flex-col sm:flex-row gap-4"},ia={class:"flex-1"},da=["value"],ua=["disabled"],ca={key:0,class:"flex flex-wrap items-center gap-3"},ga={class:"flex items-center gap-2 text-gray-600"},va={class:"font-medium"},pa={class:"font-medium"},ha={class:"flex flex-wrap gap-2"},fa={key:0,class:"inline-flex items-center gap-2 bg-blue-100 text-blue-700 text-sm px-4 py-2 rounded-xl font-medium"},xa={key:1,class:"inline-flex items-center gap-2 bg-purple-100 text-purple-700 text-sm px-4 py-2 rounded-xl font-medium"},ma={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ba={class:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-3xl shadow-xl p-8 text-white transform hover:scale-105 transition-all duration-300"},ya={class:"flex items-center justify-between"},wa={class:"text-4xl font-bold mb-2"},_a={class:"opacity-80"},ka={class:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-3xl shadow-xl p-8 text-white transform hover:scale-105 transition-all duration-300"},$a={class:"flex items-center justify-between"},Ca={class:"text-4xl font-bold mb-2"},Ma={class:"opacity-80"},Ua={class:"bg-gradient-to-br from-teal-500 to-cyan-600 rounded-3xl shadow-xl p-8 text-white transform hover:scale-105 transition-all duration-300"},Pa={class:"flex items-center justify-between"},Aa={class:"text-4xl font-bold mb-2"},Fa={class:"opacity-80"},Sa={class:"space-y-4"},ja={key:0,class:"bg-white rounded-3xl shadow-xl border border-green-200 p-16 text-center"},Qa={class:"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-3xl flex items-center justify-center"},qa={class:"p-6 md:p-8"},Da={class:"flex items-center justify-between gap-6"},Ea={class:"flex items-center gap-6 flex-1 min-w-0"},Ta={class:"relative flex-shrink-0"},Va={class:"w-20 h-20 bg-gradient-to-br from-green-400 to-emerald-600 rounded-3xl flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300"},La={class:"text-white font-bold text-2xl"},Na={class:"absolute -bottom-2 -right-2 w-8 h-8 bg-white rounded-full flex items-center justify-center shadow-lg"},za={class:"flex-1 min-w-0"},Ia={class:"text-2xl font-bold text-gray-900 mb-2 truncate"},Ra={class:"text-green-600 font-semibold text-lg mb-3 truncate"},Ha={class:"flex flex-wrap items-center gap-4 text-gray-500"},Ba={class:"flex items-center gap-2"},Oa={class:"text-sm"},Wa={key:0,class:"flex items-center gap-2"},Xa={class:"text-sm"},Ga={class:"hidden sm:flex"},Ka={class:"px-6 py-3 bg-blue-50 text-blue-700 border-2 border-blue-200 rounded-2xl font-semibold flex items-center gap-2 whitespace-nowrap"},Za={class:"flex"},Ja={key:0,class:"flex items-center gap-3"},Ya=["onClick"],el=["onClick"],tl={class:"sm:hidden mt-6 pt-6 border-t border-gray-100"},sl={class:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 border border-blue-200 rounded-xl font-medium"},ol={key:0,class:"bg-white rounded-3xl shadow-xl border border-green-200 p-8"},al={class:"flex flex-col sm:flex-row justify-center items-center gap-6"},ll=["disabled"],rl={class:"bg-green-50 border-2 border-green-200 text-green-700 px-8 py-4 rounded-2xl font-bold text-lg"},nl={class:"text-sm font-normal ml-2"},il=["disabled"],dl={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},ul={class:"flex min-h-full items-center justify-center p-4"},cl={class:"relative bg-white rounded-3xl shadow-2xl w-full max-w-4xl transform transition-all duration-500 scale-100"},gl={class:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-t-3xl p-8"},vl={class:"flex items-center justify-between"},pl={class:"text-3xl font-bold text-white flex items-center gap-4"},hl={class:"p-8 max-h-[75vh] overflow-y-auto"},fl={key:0,class:"bg-red-50 border-2 border-red-200 text-red-700 rounded-3xl p-6 mb-8"},xl={class:"font-bold flex items-center gap-3 mb-3"},ml={class:"space-y-2 ml-9"},bl={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},yl={class:"space-y-3"},wl={class:"space-y-3"},_l={class:"space-y-3"},kl={class:"block text-base font-bold text-gray-700"},$l=["required"],Cl={class:"space-y-3"},Ml=["value"],Ul={class:"space-y-3"},Pl={class:"space-y-3"},Al={class:"flex flex-col sm:flex-row justify-end gap-6 pt-8 border-t-2 border-gray-100"},Fl=["disabled"],Sl={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},jl={class:"flex min-h-full items-center justify-center p-4"},Ql={class:"relative bg-white rounded-3xl shadow-2xl w-full max-w-lg transform transition-all duration-500 scale-100"},ql={class:"p-10 text-center space-y-8"},Dl={class:"w-24 h-24 bg-red-100 rounded-3xl flex items-center justify-center mx-auto"},El={class:"space-y-4"},Tl={class:"text-gray-600 text-lg leading-relaxed"},Vl={class:"text-red-600"},Ll={class:"flex flex-col sm:flex-row gap-4 pt-4"},Nl=["disabled"],zl={__name:"Users",setup(R){class ${constructor(){this.users=p([]),this.availableRoles=p([]),this.loading=p(!1),this.error=p(null)}async fetchUsers(){try{this.loading.value=!0,this.error.value=null;const t=await D.get("api/admin/users");return this.users.value=t.data.data||[],!0}catch(t){return console.error("Failed to fetch users:",t),this.error.value="Failed to load users",!1}finally{this.loading.value=!1}}async fetchRoles(){try{const t=await D.get("api/admin/roles");return this.availableRoles.value=t.data.roles||[],!0}catch(t){return console.error("Failed to fetch roles:",t),this.error.value="Failed to load roles",!1}}refreshData(){return Promise.all([this.fetchUsers(),this.fetchRoles()])}}class x{constructor(t){this.searchQuery=p(""),this.roleFilter=p(""),this.isExpanded=p(!1),this.getUsersCallback=t}get filteredUsers(){return E(()=>{let t=this.getUsersCallback();if(this.searchQuery.value.trim()){const a=this.searchQuery.value.toLowerCase().trim();t=t.filter(f=>{var m,d,j;return((m=f.name)==null?void 0:m.toLowerCase().includes(a))||((d=f.email)==null?void 0:d.toLowerCase().includes(a))||((j=f.roles)==null?void 0:j.some(H=>{var Y;return(Y=H.name)==null?void 0:Y.toLowerCase().includes(a)}))})}return this.roleFilter.value&&(t=t.filter(a=>{var f;return(f=a.roles)==null?void 0:f.some(m=>m.name===this.roleFilter.value)})),t})}get hasActiveFilters(){return E(()=>this.searchQuery.value.trim()!==""||this.roleFilter.value!=="")}toggleCollapse(){this.isExpanded.value=!this.isExpanded.value}clearFilters(){this.searchQuery.value="",this.roleFilter.value=""}resetSearch(){this.clearFilters(),this.isExpanded.value=!1}}class C{constructor(t,a=10){this.currentPage=p(1),this.itemsPerPage=a,this.getFilteredUsersCallback=t}get totalPages(){return E(()=>Math.ceil(this.getFilteredUsersCallback().length/this.itemsPerPage)||1)}get paginatedUsers(){return E(()=>{const t=(this.currentPage.value-1)*this.itemsPerPage,a=t+this.itemsPerPage;return this.getFilteredUsersCallback().slice(t,a)})}get hasNextPage(){return E(()=>this.currentPage.value<this.totalPages.value)}get hasPrevPage(){return E(()=>this.currentPage.value>1)}nextPage(){this.hasNextPage.value&&this.currentPage.value++}prevPage(){this.hasPrevPage.value&&this.currentPage.value--}goToPage(t){t>=1&&t<=this.totalPages.value&&(this.currentPage.value=t)}resetPagination(){this.currentPage.value=1}}class M{constructor(t){this.usersRef=t,this.showModal=p(!1),this.isEditing=p(!1),this.editingUser=p(null),this.deletingUser=p(null),this.errors=p([]),this.loading=p(!1),this.form=p(this.getInitialForm())}getInitialForm(){return{name:"",email:"",password:"",role:"",phone:"",status:"active"}}openAddForm(){this.isEditing.value=!1,this.editingUser.value=null,this.form.value=this.getInitialForm(),this.errors.value=[],this.showModal.value=!0}openEditForm(t){var a,f;this.isEditing.value=!0,this.editingUser.value=t,this.form.value={name:t.name||"",email:t.email||"",password:"",role:((f=(a=t.roles)==null?void 0:a[0])==null?void 0:f.name)||"",phone:t.phone||"",status:t.status||"active"},this.errors.value=[],this.showModal.value=!0}closeModal(){this.showModal.value=!1,this.isEditing.value=!1,this.editingUser.value=null,this.errors.value=[],this.form.value=this.getInitialForm()}async saveUser(){this.errors.value=[],this.loading.value=!0;try{this.isEditing.value?await this.updateUser():await this.addUser()}catch(t){this.handleSaveError(t)}finally{this.loading.value=!1}}async addUser(){const t=await D.post("api/admin/users",this.form.value);this.usersRef.value.push(t.data.user),this.closeModal()}async updateUser(){const t={...this.form.value};t.password||delete t.password;const a=await D.put(`api/admin/users/${this.editingUser.value.id}`,t),f=this.usersRef.value.findIndex(m=>m.id===this.editingUser.value.id);f!==-1&&(this.usersRef.value[f]=a.data.user),this.closeModal()}handleSaveError(t){var a;((a=t.response)==null?void 0:a.status)===422?this.errors.value=Object.values(t.response.data.errors).flat():this.errors.value=["Failed to save user. Please try again."]}confirmDelete(t){this.deletingUser.value=t}async deleteUser(){if(this.deletingUser.value){this.loading.value=!0;try{await D.delete(`api/admin/users/${this.deletingUser.value.id}`),this.usersRef.value=this.usersRef.value.filter(t=>t.id!==this.deletingUser.value.id),this.deletingUser.value=null}catch(t){console.error("Failed to delete user:",t),this.errors.value=["Failed to delete user. Please try again."]}finally{this.loading.value=!1}}}}class F{constructor(t){this.getUsersCallback=t}get activeUsersCount(){return E(()=>this.getUsersCallback().filter(t=>t.status==="active"||!t.status).length)}get adminUsersCount(){return E(()=>this.getUsersCallback().filter(t=>{var a;return(a=t.roles)==null?void 0:a.some(f=>["admin","super-admin"].includes(f.name))}).length)}get inactiveUsersCount(){return E(()=>this.getUsersCallback().filter(t=>t.status==="inactive").length)}getUsersByRole(t){return this.getUsersCallback().filter(a=>{var f;return(f=a.roles)==null?void 0:f.some(m=>m.name===t)})}}class U{getInitials(t){return t?t.split(" ").map(a=>a.charAt(0)).join("").toUpperCase().substring(0,2):"?"}formatDate(t){if(!t)return"N/A";try{return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Invalid Date"}}getUserRole(t){var a,f;return((f=(a=t.roles)==null?void 0:a[0])==null?void 0:f.name)||"No Role"}getUserStatus(t){return t.status||"active"}isUserActive(t){return this.getUserStatus(t)==="active"}isUserAdmin(t){var a;return((a=t.roles)==null?void 0:a.some(f=>["admin","super-admin"].includes(f.name)))||!1}}const{user:g}=Ae(),P=E(()=>["admin","super-admin"].some(o=>{var t,a;return(a=(t=g.value)==null?void 0:t.roles)==null?void 0:a.includes(o)})),y=new $,c=new x(()=>y.users.value),w=new C(()=>c.filteredUsers.value,10),u=new M(y.users),n=new F(()=>y.users.value),A=new U;return J(async()=>{try{await y.refreshData()}catch(o){console.error("Failed to initialize component:",o)}}),(o,t)=>(r(),i("div",Oo,[e("div",Wo,[e("div",Xo,[e("div",Go,[e("div",Ko,[e("div",Zo,[l(s(he),{class:"w-8 h-8 text-white"})]),t[23]||(t[23]=e("div",null,[e("h1",{class:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-green-600 to-emerald-700 bg-clip-text text-transparent"}," Users Management "),e("p",{class:"text-gray-600 mt-1"},"Manage your team members and their roles")],-1))]),P.value?(r(),i("button",{key:0,onClick:t[0]||(t[0]=a=>s(u).openAddForm()),class:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-8 py-4 rounded-2xl font-semibold shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 flex items-center gap-3 w-full sm:w-auto justify-center group"},[l(s(pe),{class:"w-5 h-5 group-hover:scale-110 transition-transform"}),t[24]||(t[24]=b(" Add New User "))])):_("",!0)])]),e("div",Jo,[e("div",{onClick:t[1]||(t[1]=a=>s(c).toggleCollapse()),class:"p-6 md:p-8 cursor-pointer hover:bg-green-50/70 transition-all duration-300 border-b border-green-100"},[e("div",Yo,[e("div",ea,[l(s(te),{class:"w-6 h-6 text-green-600"}),t[25]||(t[25]=e("h2",{class:"text-xl font-bold text-gray-800"},"Search & Filter",-1)),s(c).hasActiveFilters.value?(r(),i("div",ta," Active ")):_("",!0)]),e("div",sa,[!s(c).isExpanded.value&&s(c).hasActiveFilters.value?(r(),i("div",oa,v(s(c).filteredUsers.value.length)+" results ",1)):_("",!0),e("div",{class:V(["transform transition-transform duration-300 text-green-600",s(c).isExpanded.value?"rotate-180":"rotate-0"])},[l(s(Ye),{class:"w-6 h-6"})],2)])])]),e("div",{class:V(["overflow-hidden transition-all duration-500 ease-in-out",s(c).isExpanded.value?"max-h-96 opacity-100":"max-h-0 opacity-0"])},[e("div",aa,[e("div",la,[Q(e("input",{"onUpdate:modelValue":t[2]||(t[2]=a=>s(c).searchQuery.value=a),type:"text",class:"w-full pl-14 pr-12 py-4 border-2 border-green-100 rounded-2xl focus:outline-none focus:border-green-400 focus:ring-4 focus:ring-green-100 transition-all duration-300 bg-green-50/30 text-lg",placeholder:"Search by name, email, or role..."},null,512),[[T,s(c).searchQuery.value]]),e("div",ra,[l(s(te),{class:"w-6 h-6"})]),s(c).searchQuery.value?(r(),i("button",{key:0,onClick:t[3]||(t[3]=a=>s(c).searchQuery.value=""),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100"},[l(s(X),{class:"w-5 h-5"})])):_("",!0)]),e("div",na,[e("div",ia,[Q(e("select",{"onUpdate:modelValue":t[4]||(t[4]=a=>s(c).roleFilter.value=a),class:"w-full px-6 py-4 border-2 border-green-100 rounded-2xl focus:outline-none focus:border-green-400 focus:ring-4 focus:ring-green-100 bg-white transition-all duration-300 text-lg"},[t[26]||(t[26]=e("option",{value:""},"All Roles",-1)),(r(!0),i(N,null,z(s(y).availableRoles.value,a=>(r(),i("option",{key:a,value:a},v(a),9,da))),128))],512),[[G,s(c).roleFilter.value]])]),e("button",{onClick:t[5]||(t[5]=a=>s(c).clearFilters()),disabled:!s(c).hasActiveFilters.value,class:"bg-white border-2 border-green-200 text-green-600 hover:bg-green-50 hover:border-green-400 disabled:opacity-50 disabled:cursor-not-allowed px-8 py-4 rounded-2xl font-semibold transition-all duration-300 flex items-center gap-3 justify-center min-w-max"},[l(s(et),{class:"w-5 h-5"}),t[27]||(t[27]=b(" Clear Filters "))],8,ua)]),s(c).hasActiveFilters.value?(r(),i("div",ca,[e("div",ga,[l(s(it),{class:"w-4 h-4"}),e("span",va,v(s(c).filteredUsers.value.length),1),t[28]||(t[28]=b(" of ")),e("span",pa,v(s(y).users.value.length),1),t[29]||(t[29]=b(" users "))]),e("div",ha,[s(c).searchQuery.value?(r(),i("span",fa,[l(s(te),{class:"w-3 h-3"}),b(' "'+v(s(c).searchQuery.value)+'" ',1),e("button",{onClick:t[6]||(t[6]=a=>s(c).searchQuery.value=""),class:"hover:text-blue-900 ml-1"},[l(s(X),{class:"w-3 h-3"})])])):_("",!0),s(c).roleFilter.value?(r(),i("span",xa,[l(s(he),{class:"w-3 h-3"}),b(" "+v(s(c).roleFilter.value)+" ",1),e("button",{onClick:t[7]||(t[7]=a=>s(c).roleFilter.value=""),class:"hover:text-purple-900 ml-1"},[l(s(X),{class:"w-3 h-3"})])])):_("",!0)])])):_("",!0)])],2)]),e("div",ma,[e("div",ba,[e("div",ya,[e("div",null,[e("div",wa,v(s(c).filteredUsers.value.length),1),t[30]||(t[30]=e("div",{class:"text-green-100 font-medium"},"Total Users",-1))]),e("div",_a,[l(s(he),{class:"w-12 h-12"})])])]),e("div",ka,[e("div",$a,[e("div",null,[e("div",Ca,v(s(n).activeUsersCount.value),1),t[31]||(t[31]=e("div",{class:"text-emerald-100 font-medium"},"Active Users",-1))]),e("div",Ma,[l(s(vt),{class:"w-12 h-12"})])])]),e("div",Ua,[e("div",Pa,[e("div",null,[e("div",Aa,v(s(n).adminUsersCount.value),1),t[32]||(t[32]=e("div",{class:"text-teal-100 font-medium"},"Admin Users",-1))]),e("div",Fa,[l(s(gt),{class:"w-12 h-12"})])])])]),e("div",Sa,[s(c).filteredUsers.value.length===0?(r(),i("div",ja,[e("div",Qa,[l(s(te),{class:"w-12 h-12 text-gray-400"})]),t[33]||(t[33]=e("h3",{class:"text-2xl font-bold text-gray-600 mb-3"},"No users found",-1)),t[34]||(t[34]=e("p",{class:"text-gray-500 text-lg"},"Try adjusting your search criteria or add new users",-1))])):_("",!0),(r(!0),i(N,null,z(s(w).paginatedUsers.value,(a,f)=>(r(),i("div",{key:a.id||f,class:"bg-white rounded-3xl shadow-xl border border-green-200 hover:shadow-2xl hover:border-green-300 transition-all duration-300 overflow-hidden group"},[e("div",qa,[e("div",Da,[e("div",Ea,[e("div",Ta,[e("div",Va,[e("span",La,v(s(A).getInitials(a.name)),1)]),e("div",Na,[a.status==="active"?(r(),L(s(xe),{key:0,class:"w-5 h-5 text-green-500"})):(r(),L(s(_e),{key:1,class:"w-5 h-5 text-red-500"}))])]),e("div",za,[e("h3",Ia,v(a.name),1),e("p",Ra,v(a.email),1),e("div",Ha,[e("div",Ba,[l(s(rt),{class:"w-4 h-4 text-blue-500"}),e("span",Oa,v(s(A).formatDate(a.created_at)),1)]),a.phone?(r(),i("div",Wa,[l(s(ut),{class:"w-4 h-4 text-blue-500"}),e("span",Xa,v(a.phone),1)])):_("",!0)])])]),e("div",Ga,[e("span",Ka,[l(s(se),{class:"w-4 h-4"}),b(" "+v(s(A).getUserRole(a)),1)])]),e("div",Za,[e("span",{class:V(["px-6 py-3 rounded-2xl font-semibold border-2 flex items-center gap-2 whitespace-nowrap",a.status==="active"?"bg-green-50 text-green-700 border-green-200":"bg-red-50 text-red-700 border-red-200"])},[a.status==="active"?(r(),L(s(xe),{key:0,class:"w-4 h-4"})):(r(),L(s(_e),{key:1,class:"w-4 h-4"})),b(" "+v(a.status==="active"?"Active":"Inactive"),1)],2)]),P.value?(r(),i("div",Ja,[e("button",{onClick:m=>s(u).openEditForm(a),class:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-6 py-3 rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center gap-2"},[l(s(Ce),{class:"w-4 h-4"}),t[35]||(t[35]=e("span",{class:"hidden lg:inline"},"Edit",-1))],8,Ya),e("button",{onClick:m=>s(u).confirmDelete(a),class:"bg-white border-2 border-red-200 text-red-600 hover:bg-red-50 hover:border-red-400 px-6 py-3 rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300 flex items-center gap-2"},[l(s(ue),{class:"w-4 h-4"}),t[36]||(t[36]=e("span",{class:"hidden lg:inline"},"Delete",-1))],8,el)])):_("",!0)]),e("div",tl,[e("span",sl,[l(s(se),{class:"w-3 h-3"}),b(" "+v(s(A).getUserRole(a)),1)])])])]))),128))]),s(w).totalPages.value>1?(r(),i("div",ol,[e("div",al,[e("button",{onClick:t[8]||(t[8]=a=>s(w).prevPage()),disabled:!s(w).hasPrevPage.value,class:"w-full sm:w-auto bg-white border-2 border-green-200 text-green-600 hover:bg-green-50 hover:border-green-400 disabled:opacity-50 disabled:cursor-not-allowed px-8 py-4 rounded-2xl font-semibold transition-all duration-300 flex items-center gap-3 justify-center"},[l(s(nt),{class:"w-5 h-5"}),t[37]||(t[37]=b(" Previous "))],8,ll),e("div",rl,[b(" Page "+v(s(w).currentPage.value)+" of "+v(s(w).totalPages.value)+" ",1),e("span",nl,"("+v(s(c).filteredUsers.value.length)+" users)",1)]),e("button",{onClick:t[9]||(t[9]=a=>s(w).nextPage()),disabled:!s(w).hasNextPage.value,class:"w-full sm:w-auto bg-white border-2 border-green-200 text-green-600 hover:bg-green-50 hover:border-green-400 disabled:opacity-50 disabled:cursor-not-allowed px-8 py-4 rounded-2xl font-semibold transition-all duration-300 flex items-center gap-3 justify-center"},[t[38]||(t[38]=b(" Next ")),l(s(tt),{class:"w-5 h-5"})],8,il)])])):_("",!0)]),(r(),L(ye,{to:"body"},[s(u).showModal.value?(r(),i("div",dl,[e("div",{class:"fixed inset-0 bg-black/70 backdrop-blur-md transition-all duration-500",onClick:t[10]||(t[10]=a=>s(u).closeModal())}),e("div",ul,[e("div",cl,[e("div",gl,[e("div",vl,[e("h2",pl,[s(u).isEditing.value?(r(),L(s(Ce),{key:0,class:"w-8 h-8"})):(r(),L(s(pe),{key:1,class:"w-8 h-8"})),b(" "+v(s(u).isEditing.value?"Edit User":"Add New User"),1)]),e("button",{onClick:t[11]||(t[11]=a=>s(u).closeModal()),class:"text-white/80 hover:text-white hover:bg-white/20 rounded-2xl p-3 transition-all duration-300"},[l(s(X),{class:"w-7 h-7"})])])]),e("div",hl,[s(u).errors.value.length?(r(),i("div",fl,[e("div",xl,[l(s(Se),{class:"w-6 h-6"}),t[39]||(t[39]=b(" Please fix the following errors: "))]),e("ul",ml,[(r(!0),i(N,null,z(s(u).errors.value,(a,f)=>(r(),i("li",{key:f,class:"text-base"}," • "+v(a),1))),128))])])):_("",!0),e("form",{onSubmit:t[19]||(t[19]=B(a=>s(u).saveUser(),["prevent"])),class:"space-y-8"},[e("div",bl,[e("div",yl,[t[40]||(t[40]=e("label",{class:"block text-base font-bold text-gray-700"},"Full Name *",-1)),Q(e("input",{"onUpdate:modelValue":t[12]||(t[12]=a=>s(u).form.value.name=a),type:"text",class:"w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-green-400 focus:ring-4 focus:ring-green-100 transition-all duration-300 text-lg",placeholder:"Enter full name",required:""},null,512),[[T,s(u).form.value.name]])]),e("div",wl,[t[41]||(t[41]=e("label",{class:"block text-base font-bold text-gray-700"},"Email Address *",-1)),Q(e("input",{"onUpdate:modelValue":t[13]||(t[13]=a=>s(u).form.value.email=a),type:"email",class:"w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-green-400 focus:ring-4 focus:ring-green-100 transition-all duration-300 text-lg",placeholder:"Enter email address",required:""},null,512),[[T,s(u).form.value.email]])]),e("div",_l,[e("label",kl,v(s(u).isEditing.value?"New Password (optional)":"Password *"),1),Q(e("input",{"onUpdate:modelValue":t[14]||(t[14]=a=>s(u).form.value.password=a),type:"password",class:"w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-green-400 focus:ring-4 focus:ring-green-100 transition-all duration-300 text-lg",placeholder:"Enter password",required:!s(u).isEditing.value},null,8,$l),[[T,s(u).form.value.password]])]),e("div",Cl,[t[43]||(t[43]=e("label",{class:"block text-base font-bold text-gray-700"},"Role *",-1)),Q(e("select",{"onUpdate:modelValue":t[15]||(t[15]=a=>s(u).form.value.role=a),class:"w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-green-400 focus:ring-4 focus:ring-green-100 bg-white transition-all duration-300 text-lg",required:""},[t[42]||(t[42]=e("option",{value:""},"Select Role",-1)),(r(!0),i(N,null,z(s(y).availableRoles.value,a=>(r(),i("option",{key:a,value:a},v(a),9,Ml))),128))],512),[[G,s(u).form.value.role]])]),e("div",Ul,[t[44]||(t[44]=e("label",{class:"block text-base font-bold text-gray-700"},"Phone Number",-1)),Q(e("input",{"onUpdate:modelValue":t[16]||(t[16]=a=>s(u).form.value.phone=a),type:"tel",class:"w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-green-400 focus:ring-4 focus:ring-green-100 transition-all duration-300 text-lg",placeholder:"Enter phone number"},null,512),[[T,s(u).form.value.phone]])]),e("div",Pl,[t[46]||(t[46]=e("label",{class:"block text-base font-bold text-gray-700"},"Status",-1)),Q(e("select",{"onUpdate:modelValue":t[17]||(t[17]=a=>s(u).form.value.status=a),class:"w-full px-6 py-4 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-green-400 focus:ring-4 focus:ring-green-100 bg-white transition-all duration-300 text-lg"},t[45]||(t[45]=[e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)]),512),[[G,s(u).form.value.status]])])]),e("div",Al,[e("button",{type:"button",onClick:t[18]||(t[18]=a=>s(u).closeModal()),class:"w-full sm:w-auto bg-gray-100 hover:bg-gray-200 text-gray-700 px-10 py-4 rounded-2xl font-bold text-lg transition-all duration-300"}," Cancel "),e("button",{type:"submit",disabled:s(u).loading.value,class:"w-full sm:w-auto bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-10 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3"},[s(u).loading.value?(r(),L(s($e),{key:0,class:"w-6 h-6 animate-spin"})):s(u).isEditing.value?(r(),L(s(ct),{key:1,class:"w-6 h-6"})):(r(),L(s(pe),{key:2,class:"w-6 h-6"})),b(" "+v(s(u).loading.value?"Saving...":s(u).isEditing.value?"Update User":"Create User"),1)],8,Fl)])],32)])])])])):_("",!0)])),(r(),L(ye,{to:"body"},[s(u).deletingUser.value?(r(),i("div",Sl,[e("div",{class:"fixed inset-0 bg-black/70 backdrop-blur-md transition-all duration-500",onClick:t[20]||(t[20]=a=>s(u).deletingUser.value=null)}),e("div",jl,[e("div",Ql,[e("div",ql,[e("div",Dl,[l(s(ue),{class:"w-12 h-12 text-red-600"})]),e("div",El,[t[51]||(t[51]=e("h2",{class:"text-3xl font-bold text-gray-900"},"Delete User",-1)),e("p",Tl,[t[47]||(t[47]=b(" Are you sure you want to delete ")),e("strong",Vl,v(s(u).deletingUser.value.name),1),t[48]||(t[48]=b("? ")),t[49]||(t[49]=e("br",null,null,-1)),t[50]||(t[50]=b("This action cannot be undone. "))])]),e("div",Ll,[e("button",{onClick:t[21]||(t[21]=a=>s(u).deletingUser.value=null),class:"w-full sm:w-auto bg-gray-100 hover:bg-gray-200 text-gray-700 px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300"}," Cancel "),e("button",{onClick:t[22]||(t[22]=a=>s(u).deleteUser()),disabled:s(u).loading.value,class:"w-full sm:w-auto bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-8 py-4 rounded-2xl font-bold text-lg transition-all duration-300 flex items-center justify-center gap-3"},[s(u).loading.value?(r(),L(s($e),{key:0,class:"w-6 h-6 animate-spin"})):(r(),L(s(ue),{key:1,class:"w-6 h-6"})),b(" "+v(s(u).loading.value?"Deleting...":"Delete User"),1)],8,Nl)])])])])])):_("",!0)]))]))}},Il=oe(zl,[["__scopeId","data-v-6db3a6dd"]]),Rl={class:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100"},Hl={class:"relative bg-white shadow-xl border-b border-gray-200/50"},Bl={class:"relative z-10 max-w-6xl mx-auto px-6 py-12"},Ol={class:"flex items-center justify-between"},Wl={class:"flex items-center gap-6"},Xl={class:"w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-xl group-hover:shadow-2xl transition-all duration-300 group-hover:scale-105"},Gl=["src"],Kl={class:"absolute inset-0 bg-black/40 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center"},Zl={class:"space-y-2"},Jl={class:"text-3xl font-bold text-gray-800 group-hover:text-indigo-600 transition-colors duration-300 flex items-center gap-2"},Yl={class:"text-lg text-gray-600 group-hover:text-gray-800 transition-colors duration-300 flex items-center gap-2"},er={class:"flex items-center gap-3"},tr={class:"group p-3 bg-green-100 hover:bg-green-200 rounded-xl transition-all duration-300 hover:scale-105"},sr={class:"max-w-6xl mx-auto p-6 space-y-8"},or={class:"bg-white/95 backdrop-blur-sm border rounded-xl shadow-2xl p-4 flex items-center gap-3 min-w-[300px]"},ar={class:"font-medium text-gray-800"},lr={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},rr={class:"group bg-white/80 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 hover:-translate-y-1"},nr={class:"p-8 space-y-6"},ir={class:"flex items-center gap-3"},dr={class:"p-3 bg-gradient-to-br from-gray-700 to-gray-900 rounded-xl"},ur={class:"space-y-6"},cr={class:"flex items-center justify-between p-4 bg-gray-50 rounded-xl"},gr={class:"relative inline-flex items-center cursor-pointer"},vr={class:"p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border border-blue-200"},pr={class:"flex items-center gap-3"},hr={class:"group bg-white/80 backdrop-blur-sm border border-gray-200/50 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 hover:-translate-y-1"},fr={class:"p-8 space-y-6"},xr={class:"flex items-center gap-3"},mr={class:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl"},br={class:"space-y-4"},yr={class:"relative"},wr={class:"border-2 border-dashed border-gray-300 hover:border-green-500 rounded-xl p-8 text-center transition-colors duration-300"},_r={class:"text-gray-600 font-medium"},kr=["disabled"],$r={class:"group bg-white/80 backdrop-blur-sm border-2 border-red-200 rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 hover:-translate-y-1"},Cr={class:"p-8 space-y-6"},Mr={class:"flex items-center gap-3"},Ur={class:"p-3 bg-gradient-to-br from-red-500 to-rose-600 rounded-xl"},Pr={class:"space-y-4"},Ar={class:"p-4 bg-red-50 border border-red-200 rounded-xl"},Fr={class:"flex items-center gap-3 mb-2"},Sr={key:0,class:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4"},jr={class:"p-6 border-b border-gray-200"},Qr={class:"flex items-center justify-between"},qr={class:"text-xl font-bold text-gray-800"},Dr={class:"p-6 space-y-4"},Er={key:0},Tr={key:1},Vr={key:2},Lr={class:"space-y-4"},Nr={key:0,class:"flex justify-center"},zr=["src"],Ir={__name:"Settings",setup(R){const $=p(""),x=p("success"),C=p({system_name:"",system_description:"",dark_mode_enabled:!1}),M=p(null),F=p({name:"My Website",description:"Website description goes here...",logo:null}),U=p(!1),g=p(""),P=p(""),y=p(null);async function c(){const m=localStorage.getItem("auth_token");m&&(D.defaults.headers.common.Authorization=`Bearer ${m}`)}function w(m){M.value=m.target.files[0]}function u(m){const d=m.target.files[0];if(d){const j=new FileReader;j.onload=H=>{y.value=H.target.result,P.value=H.target.result},j.readAsDataURL(d)}}async function n(m){var j;if(!M.value)return f("Choose a file first","error");const d=new FormData;d.append("file",M.value);try{await D.post(`api/import/${m}`,d,{headers:{"Content-Type":"multipart/form-data"}}),f("✅ File uploaded successfully","success"),M.value=null}catch(H){f("❌ Upload failed","error"),console.error(((j=H.response)==null?void 0:j.data)||H.message)}}async function A(m){var d;if(confirm("Are you sure? This cannot be undone."))try{await D.delete(`api/delete/${m}`),f(`✅ All ${m} deleted successfully`,"success")}catch(j){f("❌ Delete failed","error"),console.error(((d=j.response)==null?void 0:d.data)||j.message)}}function o(m){g.value=m,m==="siteName"?P.value=F.value.name:m==="siteDescription"?P.value=F.value.description:m==="logo"&&(P.value=F.value.logo,y.value=F.value.logo),U.value=!0}function t(){U.value=!1,P.value="",y.value=null,g.value=""}async function a(){var m;try{g.value==="siteName"?F.value.name=P.value:g.value==="siteDescription"?F.value.description=P.value:g.value==="logo"&&(F.value.logo=P.value),f("✅ Site information updated successfully","success"),t()}catch(d){f("❌ Error updating site information","error"),console.error(((m=d.response)==null?void 0:m.data)||d.message)}}function f(m,d="success"){$.value=m,x.value=d,setTimeout(()=>$.value=null,4e3)}return J(c),(m,d)=>(r(),i("div",Rl,[e("div",Hl,[d[9]||(d[9]=e("div",{class:"absolute inset-0 bg-gradient-to-r from-indigo-500/5 via-purple-500/5 to-pink-500/5"},null,-1)),d[10]||(d[10]=e("div",{class:"absolute inset-0 opacity-30"},[e("div",{class:"w-full h-full bg-gray-100"})],-1)),e("div",Bl,[e("div",Ol,[e("div",Wl,[e("div",{class:"relative group cursor-pointer",onClick:d[0]||(d[0]=j=>o("logo"))},[e("div",Xl,[F.value.logo?(r(),i("img",{key:0,src:F.value.logo,alt:"Site Logo",class:"w-16 h-16 rounded-xl object-cover"},null,8,Gl)):(r(),L(s(ie),{key:1,class:"w-10 h-10 text-white"}))]),e("div",Kl,[l(s(ne),{class:"w-6 h-6 text-white"})])]),e("div",Zl,[e("div",{class:"group cursor-pointer",onClick:d[1]||(d[1]=j=>o("siteName"))},[e("h1",Jl,[b(v(F.value.name||"My Website")+" ",1),l(s(ne),{class:"w-5 h-5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})])]),e("div",{class:"group cursor-pointer",onClick:d[2]||(d[2]=j=>o("siteDescription"))},[e("p",Yl,[b(v(F.value.description||"Website description goes here...")+" ",1),l(s(ne),{class:"w-4 h-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})])])])]),e("div",er,[e("button",{onClick:d[3]||(d[3]=j=>o("siteName")),class:"group p-3 bg-indigo-100 hover:bg-indigo-200 rounded-xl transition-all duration-300 hover:scale-105"},[l(s(ne),{class:"w-5 h-5 text-indigo-600 group-hover:scale-110 transition-transform duration-300"})]),e("button",tr,[l(s(st),{class:"w-5 h-5 text-green-600 group-hover:scale-110 transition-transform duration-300"})])])])])]),e("div",sr,[$.value?(r(),i("div",{key:0,class:V(["fixed top-6 right-6 z-50 transform transition-all duration-500",x.value==="success"?"bg-green-500":"bg-red-500"])},[e("div",or,[e("div",{class:V(["p-2 rounded-full",x.value==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"])},[x.value==="success"?(r(),L(s(xe),{key:0,class:"w-5 h-5"})):(r(),L(s(ot),{key:1,class:"w-5 h-5"}))],2),e("span",ar,v($.value),1)])],2)):_("",!0),e("div",lr,[e("div",rr,[e("div",nr,[e("div",ir,[e("div",dr,[l(s(Fe),{class:"w-6 h-6 text-white"})]),d[11]||(d[11]=e("h3",{class:"text-2xl font-bold text-gray-800"},"Theme Settings",-1))]),e("div",ur,[e("div",cr,[d[13]||(d[13]=e("div",null,[e("h4",{class:"font-semibold text-gray-800"},"Dark Mode"),e("p",{class:"text-sm text-gray-600"},"Enable dark theme for all users")],-1)),e("label",gr,[Q(e("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":d[4]||(d[4]=j=>C.value.dark_mode_enabled=j)},null,512),[[Pe,C.value.dark_mode_enabled]]),d[12]||(d[12]=e("div",{class:"w-14 h-7 bg-gray-200 rounded-full peer-checked:bg-gradient-to-r peer-checked:from-indigo-500 peer-checked:to-purple-600 transition-all duration-300"},[e("div",{class:"absolute top-0.5 left-0.5 bg-white w-6 h-6 rounded-full transition-transform duration-300 peer-checked:translate-x-7 shadow-lg"})],-1))])]),e("div",vr,[e("div",pr,[l(s(at),{class:"w-5 h-5 text-blue-600"}),d[14]||(d[14]=e("span",{class:"text-sm text-blue-800 font-medium"},"Changes will apply to all users on next login",-1))])])])])]),e("div",hr,[e("div",fr,[e("div",xr,[e("div",mr,[l(s(Me),{class:"w-6 h-6 text-white"})]),d[15]||(d[15]=e("h3",{class:"text-2xl font-bold text-gray-800"},"Import Data",-1))]),e("div",br,[e("div",yr,[e("input",{type:"file",onChange:w,accept:".csv,.xlsx",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"},null,32),e("div",wr,[l(s(Me),{class:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e("p",_r,v(M.value?M.value.name:"Click to select file or drag and drop"),1),d[16]||(d[16]=e("p",{class:"text-sm text-gray-500 mt-1"},"CSV or XLSX files only",-1))])]),e("button",{onClick:d[5]||(d[5]=j=>n("questions")),disabled:!M.value,class:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 disabled:from-gray-300 disabled:to-gray-400 text-white font-semibold px-6 py-3 rounded-xl transition-all duration-300 flex items-center justify-center gap-2 hover:scale-105 shadow-lg hover:shadow-xl disabled:cursor-not-allowed disabled:hover:scale-100"},[l(s(lt),{class:"w-5 h-5"}),d[17]||(d[17]=b(" Upload & Import Questions "))],8,kr)])])]),e("div",$r,[e("div",Cr,[e("div",Mr,[e("div",Ur,[l(s(ue),{class:"w-6 h-6 text-white"})]),d[18]||(d[18]=e("h3",{class:"text-2xl font-bold text-red-600"},"Danger Zone",-1))]),e("div",Pr,[e("div",Ar,[e("div",Fr,[l(s(Se),{class:"w-5 h-5 text-red-600"}),d[19]||(d[19]=e("h4",{class:"font-semibold text-red-800"},"Delete All Questions",-1))]),d[21]||(d[21]=e("p",{class:"text-sm text-red-700 mb-4"}," This will permanently delete all questions and cannot be undone. ",-1)),e("button",{onClick:d[6]||(d[6]=j=>A("questions")),class:"bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700 text-white font-semibold px-6 py-2 rounded-lg transition-all duration-300 flex items-center gap-2 hover:scale-105 shadow-lg hover:shadow-xl"},[l(s(O),{class:"w-4 h-4"}),d[20]||(d[20]=b(" Delete All Questions "))])])])])])])]),U.value?(r(),i("div",Sr,[e("div",{class:V(["bg-white rounded-2xl shadow-2xl w-full max-w-md transform transition-all duration-300",{"scale-100 opacity-100":U.value,"scale-95 opacity-0":!U.value}])},[e("div",jr,[e("div",Qr,[e("h3",qr," Edit "+v(g.value==="siteName"?"Site Name":g.value==="siteDescription"?"Site Description":"Site Logo"),1),e("button",{onClick:t,class:"p-2 hover:bg-gray-100 rounded-lg transition-colors"},[l(s(X),{class:"w-5 h-5 text-gray-500"})])])]),e("div",Dr,[g.value==="siteName"?(r(),i("div",Er,[d[22]||(d[22]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Site Name",-1)),Q(e("input",{type:"text","onUpdate:modelValue":d[7]||(d[7]=j=>P.value=j),placeholder:"Enter site name",class:"w-full border-2 border-gray-200 focus:border-indigo-500 rounded-xl px-4 py-3 transition-colors duration-300 focus:outline-none focus:ring-4 focus:ring-indigo-100",onKeyup:Xe(a,["enter"])},null,544),[[T,P.value]])])):_("",!0),g.value==="siteDescription"?(r(),i("div",Tr,[d[23]||(d[23]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Site Description",-1)),Q(e("textarea",{rows:"4","onUpdate:modelValue":d[8]||(d[8]=j=>P.value=j),placeholder:"Enter site description",class:"w-full border-2 border-gray-200 focus:border-indigo-500 rounded-xl px-4 py-3 transition-colors duration-300 focus:outline-none focus:ring-4 focus:ring-indigo-100"},null,512),[[T,P.value]])])):_("",!0),g.value==="logo"?(r(),i("div",Vr,[d[24]||(d[24]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Site Logo",-1)),e("div",Lr,[e("input",{type:"file",onChange:u,accept:"image/*",class:"w-full border-2 border-gray-200 focus:border-indigo-500 rounded-xl px-4 py-3 transition-colors duration-300 focus:outline-none"},null,32),y.value?(r(),i("div",Nr,[e("img",{src:y.value,alt:"Logo Preview",class:"w-20 h-20 rounded-xl object-cover border-2 border-gray-200"},null,8,zr)])):_("",!0)])])):_("",!0)]),e("div",{class:"p-6 border-t border-gray-200 flex items-center justify-end gap-3"},[e("button",{onClick:t,class:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors"}," Cancel "),e("button",{onClick:a,class:"bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-semibold px-6 py-2 rounded-lg transition-all duration-300 hover:scale-105"}," Save Changes ")])],2)])):_("",!0)]))}},Rr=oe(Ir,[["__scopeId","data-v-720ea31f"]]),Hr=[{path:"/admin/dashboard",name:"DashboardHome",component:ws,meta:{requiresAuth:!0}},{path:"/admin/dashboard/questions",name:"Questions",component:ro,meta:{requiresAuth:!0,roles:["super-admin","student"]}},{path:"/admin/dashboard/sections",name:"Sections",component:Bo,meta:{requiresAuth:!0,roles:["super-admin","student"]}},{path:"/admin/dashboard/users",name:"Users",component:Il,meta:{requiresAuth:!0,roles:["super-admin","student"]}},{path:"/admin/dashboard/settings",name:"Settings",component:Rr,meta:{requiresAuth:!0,roles:["super-admin","student"]}}],je=Ke({history:Ze(),routes:Hr});je.beforeEach(async(R,$,x)=>{const{token:C,user:M,init:F,hasAnyRole:U}=Ae();if(C.value&&!M.value&&await F(),R.meta.requiresAuth){if(!C.value)return x("/login");if(R.meta.roles&&!U(R.meta.roles))return x("/")}x()});Ge(is).use(je).mount("#app");
