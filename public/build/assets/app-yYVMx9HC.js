import{q as m,s as i,e as p,u as _,m as f}from"./userAuth-Bw2eZrmN.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{c as l,a as d}from"./vue-router-DJDVh-I8.js";const A={};function y(e,o){return" dashboard "}const a=h(A,[["render",y]]),b=m({__name:"App",setup(e){return(o,r)=>(p(),i(a))}}),k=[{path:"/",name:"Home",component:a}],s=l({history:d(),routes:k});s.beforeEach(async(e,o,r)=>{const{token:t,user:n,init:c,hasAnyRole:u}=_();if(t.value&&!n.value&&await c(),e.meta.requiresAuth){if(!t.value)return r("/login");if(e.meta.roles&&!u(e.meta.roles))return r("/")}r()});f(b).use(s).mount("#app");
